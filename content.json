{"pages":[],"posts":[{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2020/11/16/hello-world/"},{"title":"","text":"I. Titanic Transcription 이 문서는 Kaggle을 통해 코딩실력을 기르고 싶어 캐글 그랜드마스터이신 ‘이유한 박사’ 님의 방법을 따라하는 것으로캐글의 데이터들을 필사적으로 필사하면서 코딩 공부를 하는 문서입니다. 영어로 써진 원문은 파파고를 활용해서 한국어로 번역하려고 노력했습니다. II. Kaggle KPI 설치 Google Colab에서 Kaggle API를 불러오려면 다음 소스코드를 실행한다. 1!pip install kaggle Requirement already satisfied: kaggle in /usr/local/lib/python3.6/dist-packages (1.5.9) Requirement already satisfied: slugify in /usr/local/lib/python3.6/dist-packages (from kaggle) (0.0.1) Requirement already satisfied: tqdm in /usr/local/lib/python3.6/dist-packages (from kaggle) (4.41.1) Requirement already satisfied: requests in /usr/local/lib/python3.6/dist-packages (from kaggle) (2.23.0) Requirement already satisfied: python-dateutil in /usr/local/lib/python3.6/dist-packages (from kaggle) (2.8.1) Requirement already satisfied: certifi in /usr/local/lib/python3.6/dist-packages (from kaggle) (2020.6.20) Requirement already satisfied: urllib3 in /usr/local/lib/python3.6/dist-packages (from kaggle) (1.24.3) Requirement already satisfied: six&gt;=1.10 in /usr/local/lib/python3.6/dist-packages (from kaggle) (1.15.0) Requirement already satisfied: python-slugify in /usr/local/lib/python3.6/dist-packages (from kaggle) (4.0.1) Requirement already satisfied: idna&lt;3,&gt;=2.5 in /usr/local/lib/python3.6/dist-packages (from requests-&gt;kaggle) (2.10) Requirement already satisfied: chardet&lt;4,&gt;=3.0.2 in /usr/local/lib/python3.6/dist-packages (from requests-&gt;kaggle) (3.0.4) Requirement already satisfied: text-unidecode&gt;=1.3 in /usr/local/lib/python3.6/dist-packages (from python-slugify-&gt;kaggle) (1.3) III. Kaggle Token 다운로드 Kaggle에서 API Token을 다운로드 받는다. [Kaggle]-[My Account]-[API]-[Create New API Token]을 누르면 kaggle.json 파일이 다운로드 된다. 이 파일을 바탕화면에 옮긴 뒤, 아래 코드를 실행 시킨다. Part1 : Exploratory Data Analysis(EDA)12345678from google.colab import filesuploaded = files.upload()for fn in uploaded.keys(): print('uploaded file &quot;{name}&quot; with length {length} bytes'.format( name=fn, length=len(uploaded[fn]))) # kaggle.json을 아래 폴더로 옮긴 뒤, file을 사용할 수 있도록 권한을 부여한다. !mkdir -p ~/.kaggle/ &amp;&amp; mv kaggle.json ~/.kaggle/ &amp;&amp; chmod 600 ~/.kaggle/kaggle.json Upload widget is only available when the cell has been executed in the current browser session. Please rerun this cell to enable. Saving kaggle.json to kaggle.json uploaded file &quot;kaggle.json&quot; with length 68 bytes 1ls -1ha ~/.kaggle/kaggle.json /root/.kaggle/kaggle.json 에러 메시지가 없으면 성공적으로 json 파일이 업로드 되었다는 뜻이다. IV. Kaggle 데이터 불러오기 먼저 kaggle competition list를 불러온다. 1!kaggle competitions list Warning: Looks like you're using an outdated API Version, please consider updating (server 1.5.9 / client 1.5.4) ref deadline category reward teamCount userHasEntered --------------------------------------------- ------------------- --------------- --------- --------- -------------- contradictory-my-dear-watson 2030-07-01 23:59:00 Getting Started Prizes 134 False gan-getting-started 2030-07-01 23:59:00 Getting Started Prizes 186 False tpu-getting-started 2030-06-03 23:59:00 Getting Started Knowledge 317 False digit-recognizer 2030-01-01 00:00:00 Getting Started Knowledge 2373 False titanic 2030-01-01 00:00:00 Getting Started Knowledge 18236 True house-prices-advanced-regression-techniques 2030-01-01 00:00:00 Getting Started Knowledge 4579 True connectx 2030-01-01 00:00:00 Getting Started Knowledge 395 False nlp-getting-started 2030-01-01 00:00:00 Getting Started Knowledge 1190 False rock-paper-scissors 2021-02-01 23:59:00 Playground Prizes 209 False riiid-test-answer-prediction 2021-01-07 23:59:00 Featured $100,000 1483 False nfl-big-data-bowl-2021 2021-01-05 23:59:00 Analytics $100,000 0 False competitive-data-science-predict-future-sales 2020-12-31 23:59:00 Playground Kudos 9358 False halite-iv-playground-edition 2020-12-31 23:59:00 Playground Knowledge 44 False predict-volcanic-eruptions-ingv-oe 2020-12-28 23:59:00 Playground Swag 195 False hashcode-drone-delivery 2020-12-14 23:59:00 Playground Knowledge 80 False cdp-unlocking-climate-solutions 2020-12-02 23:59:00 Analytics $91,000 0 False lish-moa 2020-11-30 23:59:00 Research $30,000 3431 False google-football 2020-11-30 23:59:00 Featured $6,000 921 False conways-reverse-game-of-life-2020 2020-11-30 23:59:00 Playground Swag 131 False lyft-motion-prediction-autonomous-vehicles 2020-11-25 23:59:00 Featured $30,000 784 False titanic 데이터를 불러온다. 1!kaggle competitions download -c titanic Warning: Looks like you're using an outdated API Version, please consider updating (server 1.5.9 / client 1.5.4) test.csv: Skipping, found more recently modified local copy (use --force to force download) train.csv: Skipping, found more recently modified local copy (use --force to force download) gender_submission.csv: Skipping, found more recently modified local copy (use --force to force download) ls 로 경로 내 모든 데이터 파일을 확인한다. 1!ls gender_submission.csv sample_data test.csv train.csv (1) 데이터 수집 지난 시간에 받은 데이터가 총 4개임을 확인했다. data_description.txt sample_submission.csv test.csv train.csv 여기에서는 우선 test.csv &amp; train.csv 파일을 받도록 한다. 12345678import numpy as np import pandas as pd import matplotlib.pyplot as plt import seaborn as sns plt.style.use('fivethirtyeight')import warningswarnings.filterwarnings('ignore')%matplotlib inline train 데이터를 불러와서 data로 넣어주자 1data= pd.read_csv('train.csv') 1data.head() .dataframe tbody tr th:only-of-type { vertical-align: middle; } .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; } PassengerId Survived Pclass Name Sex Age SibSp Parch Ticket Fare Cabin Embarked 0 1 0 3 Braund, Mr. Owen Harris male 22.0 1 0 A/5 21171 7.2500 NaN S 1 2 1 1 Cumings, Mrs. John Bradley (Florence Briggs Th... female 38.0 1 0 PC 17599 71.2833 C85 C 2 3 1 3 Heikkinen, Miss. Laina female 26.0 0 0 STON/O2. 3101282 7.9250 NaN S 3 4 1 1 Futrelle, Mrs. Jacques Heath (Lily May Peel) female 35.0 1 0 113803 53.1000 C123 S 4 5 0 3 Allen, Mr. William Henry male 35.0 0 0 373450 8.0500 NaN S 1data.isnull().sum() # 결측치를 확인해준다. PassengerId 0 Survived 0 Pclass 0 Name 0 Sex 0 Age 177 SibSp 0 Parch 0 Ticket 0 Fare 0 Cabin 687 Embarked 2 dtype: int64 Age와 Cabin에 결측값이 있는 것을 확인했다. 나는 이들을 고치도록 노력할 것이다. 얼마나 살아남았는가? 1234567f,ax=plt.subplots(1,2,figsize=(18,8))data['Survived'].value_counts().plot.pie(explode=[0,0.1], autopct='%1.1f%%',ax=ax[0],shadow=True)ax[0].set_title('Survived') # 제목 붙여주기 ax[0].set_ylabel('') # y축에 있는 라벨 제거sns.countplot('Survived',data=data,ax=ax[1]) # seaborn countplot 적용ax[1].set_title('Survived') # 좌측 표에 제목 추가 plt.show() 특징 분석 sex -&gt; Categorical Feature 1data.groupby(['Sex', 'Survived'])['Survived'].count() # 'Sex', 'Survived' 카테고리 그룹화 Sex Survived female 0 81 1 233 male 0 468 1 109 Name: Survived, dtype: int64 123456f,ax=plt.subplots(1,2,figsize=(18,8)) # 도표 생성data[['Sex', 'Survived']].groupby(['Sex']).mean().plot.bar(ax=ax[0]) # 성별에 따른 생존자 시각화 ax[0].set_title('Survived vs Sex') # 제목 생성 sns.countplot('Sex', hue='Survived', data=data,ax=ax[1]) # 우측 도표에 생존자 사망자 비교 그래프 생성 ax[1].set_title('Sex:Survived vs Dead')plt.show() 배에 타고 있는 남성의 숫자가 훨씬 많은 반면 구조된 여성의 수는 구조된 남성의 수보다 거의 두배나 많다. 배에 타고 있는 여성의 생존율을 약 75%인 반면 남성은 약 18~19%이다. 이것은 모델링을 위해 매우 중요한 특징으로 보인다. 하지만 그게 최고일까? 다른 기능을 확인해보자. 1pd.crosstab(data.Pclass, data.Survived, margins=True). style.background_gradient(cmap='summer_r') #T_bd663c72_1ebd_11eb_af08_0242ac1c0002row0_col0,#T_bd663c72_1ebd_11eb_af08_0242ac1c0002row1_col1,#T_bd663c72_1ebd_11eb_af08_0242ac1c0002row1_col2{ background-color: #ffff66; color: #000000; }#T_bd663c72_1ebd_11eb_af08_0242ac1c0002row0_col1{ background-color: #cee666; color: #000000; }#T_bd663c72_1ebd_11eb_af08_0242ac1c0002row0_col2{ background-color: #f4fa66; color: #000000; }#T_bd663c72_1ebd_11eb_af08_0242ac1c0002row1_col0{ background-color: #f6fa66; color: #000000; }#T_bd663c72_1ebd_11eb_af08_0242ac1c0002row2_col0{ background-color: #60b066; color: #000000; }#T_bd663c72_1ebd_11eb_af08_0242ac1c0002row2_col1{ background-color: #dfef66; color: #000000; }#T_bd663c72_1ebd_11eb_af08_0242ac1c0002row2_col2{ background-color: #90c866; color: #000000; }#T_bd663c72_1ebd_11eb_af08_0242ac1c0002row3_col0,#T_bd663c72_1ebd_11eb_af08_0242ac1c0002row3_col1,#T_bd663c72_1ebd_11eb_af08_0242ac1c0002row3_col2{ background-color: #008066; color: #f1f1f1; } Survived 0 1 All Pclass &lt;tr&gt; &lt;th id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002level0_row0&quot; class=&quot;row_heading level0 row0&quot; &gt;1&lt;/th&gt; &lt;td id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002row0_col0&quot; class=&quot;data row0 col0&quot; &gt;80&lt;/td&gt; &lt;td id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002row0_col1&quot; class=&quot;data row0 col1&quot; &gt;136&lt;/td&gt; &lt;td id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002row0_col2&quot; class=&quot;data row0 col2&quot; &gt;216&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002level0_row1&quot; class=&quot;row_heading level0 row1&quot; &gt;2&lt;/th&gt; &lt;td id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002row1_col0&quot; class=&quot;data row1 col0&quot; &gt;97&lt;/td&gt; &lt;td id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002row1_col1&quot; class=&quot;data row1 col1&quot; &gt;87&lt;/td&gt; &lt;td id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002row1_col2&quot; class=&quot;data row1 col2&quot; &gt;184&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002level0_row2&quot; class=&quot;row_heading level0 row2&quot; &gt;3&lt;/th&gt; &lt;td id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002row2_col0&quot; class=&quot;data row2 col0&quot; &gt;372&lt;/td&gt; &lt;td id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002row2_col1&quot; class=&quot;data row2 col1&quot; &gt;119&lt;/td&gt; &lt;td id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002row2_col2&quot; class=&quot;data row2 col2&quot; &gt;491&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002level0_row3&quot; class=&quot;row_heading level0 row3&quot; &gt;All&lt;/th&gt; &lt;td id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002row3_col0&quot; class=&quot;data row3 col0&quot; &gt;549&lt;/td&gt; &lt;td id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002row3_col1&quot; class=&quot;data row3 col1&quot; &gt;342&lt;/td&gt; &lt;td id=&quot;T_bd663c72_1ebd_11eb_af08_0242ac1c0002row3_col2&quot; class=&quot;data row3 col2&quot; &gt;891&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; 12345678f,ax=plt.subplots(1,2,figsize=(18,8)) # 표 2개 생성 data['Pclass'].value_counts().plot.bar(color=['#CD7F32','#FFDF00','#D3D3D3'],ax=ax[0]) # 객실 등급별 숫자 시각화ax[0].set_title('Number Of Passengers By Pclass')ax[0].set_ylabel('Count') # y축에 Count 라벨링 sns.countplot('Pclass', hue= 'Survived', data=data, ax=ax[1]) # 우측 그래프에 생존자와 사망자 구별ax[1].set_title('Pclass:Survived vs Dead')plt.show() 우리는 돈이 모든 것을 살 수 없다 말하지만 위 데이터를 보면 높은 등급의 객실 사람들 일수록 더 높은 생존률을 보이는 것을 알 수 있다. 이제는 성별과 객실 등급을 함께 확인해보자. 12pd.crosstab([data.Sex, data.Survived], data.Pclass, margins=True).style.background_gradient(cmap='summer_r') #T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row0_col0,#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row0_col1,#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row0_col3,#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row3_col2{ background-color: #ffff66; color: #000000; }#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row0_col2,#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row1_col2{ background-color: #f1f866; color: #000000; }#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row1_col0{ background-color: #96cb66; color: #000000; }#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row1_col1{ background-color: #a3d166; color: #000000; }#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row1_col3{ background-color: #cfe766; color: #000000; }#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row2_col0{ background-color: #a7d366; color: #000000; }#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row2_col1,#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row2_col3{ background-color: #85c266; color: #000000; }#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row2_col2{ background-color: #6eb666; color: #000000; }#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row3_col0{ background-color: #cde666; color: #000000; }#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row3_col1{ background-color: #f0f866; color: #000000; }#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row3_col3{ background-color: #f7fb66; color: #000000; }#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row4_col0,#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row4_col1,#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row4_col2,#T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row4_col3{ background-color: #008066; color: #f1f1f1; } Pclass 1 2 3 All Sex Survived &lt;tr&gt; &lt;th id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002level0_row0&quot; class=&quot;row_heading level0 row0&quot; rowspan=2&gt;female&lt;/th&gt; &lt;th id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002level1_row0&quot; class=&quot;row_heading level1 row0&quot; &gt;0&lt;/th&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row0_col0&quot; class=&quot;data row0 col0&quot; &gt;3&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row0_col1&quot; class=&quot;data row0 col1&quot; &gt;6&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row0_col2&quot; class=&quot;data row0 col2&quot; &gt;72&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row0_col3&quot; class=&quot;data row0 col3&quot; &gt;81&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002level1_row1&quot; class=&quot;row_heading level1 row1&quot; &gt;1&lt;/th&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row1_col0&quot; class=&quot;data row1 col0&quot; &gt;91&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row1_col1&quot; class=&quot;data row1 col1&quot; &gt;70&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row1_col2&quot; class=&quot;data row1 col2&quot; &gt;72&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row1_col3&quot; class=&quot;data row1 col3&quot; &gt;233&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002level0_row2&quot; class=&quot;row_heading level0 row2&quot; rowspan=2&gt;male&lt;/th&gt; &lt;th id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002level1_row2&quot; class=&quot;row_heading level1 row2&quot; &gt;0&lt;/th&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row2_col0&quot; class=&quot;data row2 col0&quot; &gt;77&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row2_col1&quot; class=&quot;data row2 col1&quot; &gt;91&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row2_col2&quot; class=&quot;data row2 col2&quot; &gt;300&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row2_col3&quot; class=&quot;data row2 col3&quot; &gt;468&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002level1_row3&quot; class=&quot;row_heading level1 row3&quot; &gt;1&lt;/th&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row3_col0&quot; class=&quot;data row3 col0&quot; &gt;45&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row3_col1&quot; class=&quot;data row3 col1&quot; &gt;17&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row3_col2&quot; class=&quot;data row3 col2&quot; &gt;47&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row3_col3&quot; class=&quot;data row3 col3&quot; &gt;109&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002level0_row4&quot; class=&quot;row_heading level0 row4&quot; &gt;All&lt;/th&gt; &lt;th id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002level1_row4&quot; class=&quot;row_heading level1 row4&quot; &gt;&lt;/th&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row4_col0&quot; class=&quot;data row4 col0&quot; &gt;216&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row4_col1&quot; class=&quot;data row4 col1&quot; &gt;184&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row4_col2&quot; class=&quot;data row4 col2&quot; &gt;491&lt;/td&gt; &lt;td id=&quot;T_bd9cba4a_1ebd_11eb_af08_0242ac1c0002row4_col3&quot; class=&quot;data row4 col3&quot; &gt;891&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; 12sns.factorplot('Pclass', 'Survived', hue='Sex', data=data)plt.show() 우리는 1등급 객실의 여성 생존률이 95~96%인 것을 알 수 있다. 94명 중에 고작 3명 밖에 안죽었다. 남성과의 비교를 통해 객실의 관계없이 구조하는 동안 여성에게 우선권이 주어졌다는 것은 명백하다. 심지어 1등급 객실에서도 남성들의 생존율이 매우 낮다. 이를 통해 객실등급이 중요한 특성이라는 것을 확인할 수 있었다. 다른 특성을 확인해보자. 나이 특징 1234print('Oldest Passenger was of :', data['Age'].max(),'Years')print('Youngest Passenger was of :', data['Age'].min(),'Years')print('Average Age on the ship :', data['Age'].mean(),'Years') Oldest Passenger was of : 80.0 Years Youngest Passenger was of : 0.42 Years Average Age on the ship : 29.69911764705882 Years 12345678f,ax=plt.subplots(1,2,figsize=(18,8))sns.violinplot(&quot;Pclass&quot;,&quot;Age&quot;, hue=&quot;Survived&quot;, data=data,split=True, ax=ax[0])ax[0].set_title(&quot;Pclass and Age vs Survived&quot;)ax[0].set_yticks(range(0,110,10)) # y축 범위 설정 sns.violinplot(&quot;Sex&quot;, &quot;Age&quot;, hue=&quot;Survived&quot;, data = data, split=True, ax=ax[1])ax[1].set_title('Sex and Age vs Survived')ax[1].set_yticks(range(0,110,10))plt.show() 관찰결과) 객실 등급에 따라 자녀 수가 증가하고 10세 미만의 승객 생존률은 객실 등급에 관계없이 양호한 것으로 보인다. 1등급 객실에서 20~50세 승객의 생존 가능성은 높고 여성에게는 더욱 좋다. 남성의 경우 나이가 많을 수록 생존가능성은 줄어든다. 우리는 이전에 Age 177개의 결측값이 있던 것을 확인했다. 우리는 여기에 평균값을 넣어줄 수 있다. 하지만 우리는 이 때 나이가 적거나 낮은 사람에게 적절하지 않은 평균을 넣으면 문제가 생길 수 있다는 것을 알고있다. 그러면 고객의 연령대를 예측할 수 있는 방법은 없을까? 있다! 우리는 승객 이름의 특징을 확인할 수 있다. 우리는 승객들의 이름에 Mr 또는 Mrs등의 특징이 있다는 것을 알수 있다. 따라서 우리는 Mr, Mrs의 평균값을 각 그룹에 할당할 수 있다. 이름에 무엇이 붙는 가 특징!! 123data['Initial']=0for i in data: data['Initial']=data.Name.str.extract('([A-Za-z]+)\\.') 자, 이제 Regex를 사용합시다. A-Z 또는 a-z사이에 있는 문자열을 찾고, 그 뒤에 .(점)이 있는 문자열을 찾는 겁니다. 그래서 우리는 이름에서 이니셜을 성공적으로 추출했다. 12pd.crosstab(data.Initial, data.Sex).T.style.background_gradient(cmap='summer_r') # 성별에 있는 이니셜 체크 #T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col0,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col1,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col3,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col4,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col5,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col7,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col8,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col12,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col15,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col16,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col2,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col6,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col9,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col10,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col11,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col13,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col14{ background-color: #ffff66; color: #000000; }#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col2,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col6,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col9,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col10,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col11,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col13,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col14,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col0,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col1,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col3,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col4,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col5,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col7,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col8,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col12,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col15,#T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col16{ background-color: #008066; color: #f1f1f1; } Initial Capt Col Countess Don Dr Jonkheer Lady Major Master Miss Mlle Mme Mr Mrs Ms Rev Sir Sex &lt;tr&gt; &lt;th id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002level0_row0&quot; class=&quot;row_heading level0 row0&quot; &gt;female&lt;/th&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col0&quot; class=&quot;data row0 col0&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col1&quot; class=&quot;data row0 col1&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col2&quot; class=&quot;data row0 col2&quot; &gt;1&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col3&quot; class=&quot;data row0 col3&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col4&quot; class=&quot;data row0 col4&quot; &gt;1&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col5&quot; class=&quot;data row0 col5&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col6&quot; class=&quot;data row0 col6&quot; &gt;1&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col7&quot; class=&quot;data row0 col7&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col8&quot; class=&quot;data row0 col8&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col9&quot; class=&quot;data row0 col9&quot; &gt;182&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col10&quot; class=&quot;data row0 col10&quot; &gt;2&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col11&quot; class=&quot;data row0 col11&quot; &gt;1&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col12&quot; class=&quot;data row0 col12&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col13&quot; class=&quot;data row0 col13&quot; &gt;125&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col14&quot; class=&quot;data row0 col14&quot; &gt;1&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col15&quot; class=&quot;data row0 col15&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row0_col16&quot; class=&quot;data row0 col16&quot; &gt;0&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002level0_row1&quot; class=&quot;row_heading level0 row1&quot; &gt;male&lt;/th&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col0&quot; class=&quot;data row1 col0&quot; &gt;1&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col1&quot; class=&quot;data row1 col1&quot; &gt;2&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col2&quot; class=&quot;data row1 col2&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col3&quot; class=&quot;data row1 col3&quot; &gt;1&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col4&quot; class=&quot;data row1 col4&quot; &gt;6&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col5&quot; class=&quot;data row1 col5&quot; &gt;1&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col6&quot; class=&quot;data row1 col6&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col7&quot; class=&quot;data row1 col7&quot; &gt;2&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col8&quot; class=&quot;data row1 col8&quot; &gt;40&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col9&quot; class=&quot;data row1 col9&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col10&quot; class=&quot;data row1 col10&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col11&quot; class=&quot;data row1 col11&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col12&quot; class=&quot;data row1 col12&quot; &gt;517&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col13&quot; class=&quot;data row1 col13&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col14&quot; class=&quot;data row1 col14&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col15&quot; class=&quot;data row1 col15&quot; &gt;6&lt;/td&gt; &lt;td id=&quot;T_be2cfb00_1ebd_11eb_af08_0242ac1c0002row1_col16&quot; class=&quot;data row1 col16&quot; &gt;1&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; 좋다. 위를 보면 mlle이나 Mme와 같은 철자가 틀린 이니셜이 있는데 이는 Miss를 나타낸다. 나는 그것들을 미스나 다른 가치에 대해서도 같은 것으로 대체할 것이다. 1data['Initial'].replace(['Mlle','Mme','Ms','Dr','Major','Lady','Countess','Jonkheer','Col','Rev','Capt','Sir','Don'],['Miss','Miss','Miss','Mr','Mr','Mrs','Mrs','Other','Other','Other','Mr','Mr','Mr'],inplace=True) 1data.groupby('Initial')['Age'].mean() Initial Master 4.574167 Miss 21.860000 Mr 32.739609 Mrs 35.981818 Other 45.888889 Name: Age, dtype: float64 나이 결측치 채워주기 123456# 이니셜별로 평균연령을 추가해준다. data.loc[(data.Age.isnull())&amp;(data.Initial=='Mr'),'Age']=33data.loc[(data.Age.isnull())&amp;(data.Initial=='Mrs'),'Age']=36data.loc[(data.Age.isnull())&amp;(data.Initial=='Master'),'Age']=5data.loc[(data.Age.isnull())&amp;(data.Initial=='Miss'),'Age']=22data.loc[(data.Age.isnull())&amp;(data.Initial=='Other'),'Age']=46 1data.Age.isnull().any() # 남은 결측치가 있는지 최종 확인 False 12345678910 f,ax=plt.subplots(1,2,figsize=(20,10)) data[data['Survived']==0].Age.plot.hist(ax=ax[0],bins=20, edgecolor='black', color='red') ax[0].set_title('Survived = 0') x1= list(range(0,85,5)) ax[0].set_xticks(x1) data[data['Survived']==1].Age.plot.hist(ax=ax[1], color='green', bins=20, edgecolor='black') ax[1].set_title('Survived = 1') x2=list(range(0,85,5))ax[1].set_xticks(x2)plt.show() 관찰일지) 5세 미만의 아기들은 상당 수 구조되었다. 가장 나이가 많은 승객은 구조되었다. 가장 사망자 수가 많은 나이대는 30~40세이다. 12sns.factorplot('Pclass', 'Survived', col = 'Initial', data = data)plt.show() 따라서 부녀자 우선 구조 정책은 계층에 관계없이 적용된다. 승선 - &gt; 범주형 데이터 1pd.crosstab([data.Embarked, data.Pclass],[data.Sex, data.Survived], margins=True).style.background_gradient(cmap='summer_r') #T_bf440862_1ebd_11eb_af08_0242ac1c0002row0_col0,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row1_col2{ background-color: #fcfe66; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row0_col1{ background-color: #d2e866; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row0_col2{ background-color: #f2f866; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row0_col3{ background-color: #d8ec66; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row0_col4,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row2_col3{ background-color: #e8f466; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row1_col0,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row3_col0,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row3_col1,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row3_col2,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row3_col3,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row3_col4,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row4_col0,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row4_col2,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row4_col3,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row4_col4{ background-color: #ffff66; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row1_col1,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row6_col0{ background-color: #f9fc66; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row1_col3,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row1_col4{ background-color: #fbfd66; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row2_col0,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row5_col1{ background-color: #e6f266; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row2_col1{ background-color: #f0f866; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row2_col2{ background-color: #eef666; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row2_col4,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row7_col0{ background-color: #edf666; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row4_col1{ background-color: #fefe66; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row5_col0{ background-color: #e3f166; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row5_col2{ background-color: #ecf666; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row5_col3{ background-color: #f8fc66; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row5_col4{ background-color: #ebf566; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row6_col1{ background-color: #cde666; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row6_col2{ background-color: #e4f266; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row6_col3{ background-color: #bede66; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row6_col4{ background-color: #dbed66; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row7_col1{ background-color: #bdde66; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row7_col2{ background-color: #d3e966; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row7_col3,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row8_col1{ background-color: #dcee66; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row7_col4{ background-color: #d1e866; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row8_col0{ background-color: #52a866; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row8_col2{ background-color: #81c066; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row8_col3{ background-color: #b0d866; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row8_col4{ background-color: #9acc66; color: #000000; }#T_bf440862_1ebd_11eb_af08_0242ac1c0002row9_col0,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row9_col1,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row9_col2,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row9_col3,#T_bf440862_1ebd_11eb_af08_0242ac1c0002row9_col4{ background-color: #008066; color: #f1f1f1; } Sex female male All Survived 0 1 0 1 Embarked Pclass &lt;tr&gt; &lt;th id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002level0_row0&quot; class=&quot;row_heading level0 row0&quot; rowspan=3&gt;C&lt;/th&gt; &lt;th id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002level1_row0&quot; class=&quot;row_heading level1 row0&quot; &gt;1&lt;/th&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row0_col0&quot; class=&quot;data row0 col0&quot; &gt;1&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row0_col1&quot; class=&quot;data row0 col1&quot; &gt;42&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row0_col2&quot; class=&quot;data row0 col2&quot; &gt;25&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row0_col3&quot; class=&quot;data row0 col3&quot; &gt;17&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row0_col4&quot; class=&quot;data row0 col4&quot; &gt;85&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002level1_row1&quot; class=&quot;row_heading level1 row1&quot; &gt;2&lt;/th&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row1_col0&quot; class=&quot;data row1 col0&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row1_col1&quot; class=&quot;data row1 col1&quot; &gt;7&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row1_col2&quot; class=&quot;data row1 col2&quot; &gt;8&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row1_col3&quot; class=&quot;data row1 col3&quot; &gt;2&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row1_col4&quot; class=&quot;data row1 col4&quot; &gt;17&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002level1_row2&quot; class=&quot;row_heading level1 row2&quot; &gt;3&lt;/th&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row2_col0&quot; class=&quot;data row2 col0&quot; &gt;8&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row2_col1&quot; class=&quot;data row2 col1&quot; &gt;15&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row2_col2&quot; class=&quot;data row2 col2&quot; &gt;33&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row2_col3&quot; class=&quot;data row2 col3&quot; &gt;10&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row2_col4&quot; class=&quot;data row2 col4&quot; &gt;66&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002level0_row3&quot; class=&quot;row_heading level0 row3&quot; rowspan=3&gt;Q&lt;/th&gt; &lt;th id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002level1_row3&quot; class=&quot;row_heading level1 row3&quot; &gt;1&lt;/th&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row3_col0&quot; class=&quot;data row3 col0&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row3_col1&quot; class=&quot;data row3 col1&quot; &gt;1&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row3_col2&quot; class=&quot;data row3 col2&quot; &gt;1&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row3_col3&quot; class=&quot;data row3 col3&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row3_col4&quot; class=&quot;data row3 col4&quot; &gt;2&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002level1_row4&quot; class=&quot;row_heading level1 row4&quot; &gt;2&lt;/th&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row4_col0&quot; class=&quot;data row4 col0&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row4_col1&quot; class=&quot;data row4 col1&quot; &gt;2&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row4_col2&quot; class=&quot;data row4 col2&quot; &gt;1&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row4_col3&quot; class=&quot;data row4 col3&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row4_col4&quot; class=&quot;data row4 col4&quot; &gt;3&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002level1_row5&quot; class=&quot;row_heading level1 row5&quot; &gt;3&lt;/th&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row5_col0&quot; class=&quot;data row5 col0&quot; &gt;9&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row5_col1&quot; class=&quot;data row5 col1&quot; &gt;24&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row5_col2&quot; class=&quot;data row5 col2&quot; &gt;36&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row5_col3&quot; class=&quot;data row5 col3&quot; &gt;3&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row5_col4&quot; class=&quot;data row5 col4&quot; &gt;72&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002level0_row6&quot; class=&quot;row_heading level0 row6&quot; rowspan=3&gt;S&lt;/th&gt; &lt;th id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002level1_row6&quot; class=&quot;row_heading level1 row6&quot; &gt;1&lt;/th&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row6_col0&quot; class=&quot;data row6 col0&quot; &gt;2&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row6_col1&quot; class=&quot;data row6 col1&quot; &gt;46&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row6_col2&quot; class=&quot;data row6 col2&quot; &gt;51&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row6_col3&quot; class=&quot;data row6 col3&quot; &gt;28&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row6_col4&quot; class=&quot;data row6 col4&quot; &gt;127&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002level1_row7&quot; class=&quot;row_heading level1 row7&quot; &gt;2&lt;/th&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row7_col0&quot; class=&quot;data row7 col0&quot; &gt;6&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row7_col1&quot; class=&quot;data row7 col1&quot; &gt;61&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row7_col2&quot; class=&quot;data row7 col2&quot; &gt;82&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row7_col3&quot; class=&quot;data row7 col3&quot; &gt;15&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row7_col4&quot; class=&quot;data row7 col4&quot; &gt;164&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002level1_row8&quot; class=&quot;row_heading level1 row8&quot; &gt;3&lt;/th&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row8_col0&quot; class=&quot;data row8 col0&quot; &gt;55&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row8_col1&quot; class=&quot;data row8 col1&quot; &gt;33&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row8_col2&quot; class=&quot;data row8 col2&quot; &gt;231&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row8_col3&quot; class=&quot;data row8 col3&quot; &gt;34&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row8_col4&quot; class=&quot;data row8 col4&quot; &gt;353&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002level0_row9&quot; class=&quot;row_heading level0 row9&quot; &gt;All&lt;/th&gt; &lt;th id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002level1_row9&quot; class=&quot;row_heading level1 row9&quot; &gt;&lt;/th&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row9_col0&quot; class=&quot;data row9 col0&quot; &gt;81&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row9_col1&quot; class=&quot;data row9 col1&quot; &gt;231&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row9_col2&quot; class=&quot;data row9 col2&quot; &gt;468&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row9_col3&quot; class=&quot;data row9 col3&quot; &gt;109&lt;/td&gt; &lt;td id=&quot;T_bf440862_1ebd_11eb_af08_0242ac1c0002row9_col4&quot; class=&quot;data row9 col4&quot; &gt;889&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; 항만별 생존 가능성 1234sns.factorplot('Embarked', 'Survived', data=data)fig=plt.gcf()fig.set_size_inches(5,3)plt.show() C항만에서 승선한 사람들이 가장 생존률이 높았고, S항만에서 승선한 사람들이 가장 낮았다. 1234567891011f,ax = plt.subplots(2,2,figsize=(20,15))sns.countplot('Embarked', data=data, ax=ax[0,0]) # 항만별 승선객 수 시각화 ax[0,0].set_title('No. Of Passengers Boarded')sns.countplot('Embarked', hue='Sex', data=data, ax=ax[0,1]) # 항만별 승선객 수 성별에 따른 시각화 ax[0,1].set_title('Male-Female Split for Embarked')sns.countplot('Embarked', hue='Survived', data=data, ax=ax[1,0]) # 항만별 승선객 수 성별에 생존자 시각화 ax[1,0].set_title('Embarked vs Survived')sns.countplot('Embarked', hue='Pclass', data=data, ax=ax[1,1]) # 항만별 승선객 수 객실등급별 생존자 시각화 ax[1,1].set_title('Embarked vs Pclass')plt.subplots_adjust(wspace=0.2, hspace=0.5)plt.show() 관찰결과: 최다 승선을 한 항만은 S항만이며 주된 객실은 3등급 객실이었다. C항만에서 승선한 승객들은 운이 좋은 것으로 보이는 데 그 이유는 1, 2등급 객실 승객을 우선 구조했기 때문이다. S항만의 승객들은 주로 부자들이 승선한 것으로 보인다. 하지만 여전히 생존률은 낮다, 왜냐하면 3등급 객실 승객의 81%가 살아남지 못했기 때문이다. Q항만은 대부분 3등급 객실의 고객으로 이루어져있다. 123sns.factorplot('Pclass', 'Survived', hue='Sex', col='Embarked', data=data)plt.show() 관찰결과 : 1등급 객실과 2등급 객실의 여성은 객실 등급에 관계없이 생존률은 거의 1에 가깝다. S항만의 사람들은 남녀 모두에서 3등급 객실에 사람들이 생존률이 매우 낮은 걸로 보아 운이 나쁘다할 수 있다. Q항만은 거의 모두가 3등급 객실에서 온 것으로 보아 남성에게는 맞지 않는 항만같다. 항만(Enbarked) 결측치 채워주기 우리는 많은 승객들이 S항만에서 탑승한 것을 통해 결측치에 S항만의 값을 넣어준다. 1data['Embarked'].fillna('S',inplace=True) 1data.Embarked.isnull().any() # 결측치 없는지 최종확인 False SibSip -&gt; 이산형 변수 이 변수는 혼자 온 고객 또는 가족과 함께 온 고객을 구분한다. Sibling = brother, sister, stepbrother, stepsister Spouse = husband, wife 1pd.crosstab([data.SibSp],data.Survived).style.background_gradient(cmap='summer_r') #T_c0724604_1ebd_11eb_af08_0242ac1c0002row0_col0,#T_c0724604_1ebd_11eb_af08_0242ac1c0002row0_col1{ background-color: #008066; color: #f1f1f1; }#T_c0724604_1ebd_11eb_af08_0242ac1c0002row1_col0{ background-color: #c4e266; color: #000000; }#T_c0724604_1ebd_11eb_af08_0242ac1c0002row1_col1{ background-color: #77bb66; color: #000000; }#T_c0724604_1ebd_11eb_af08_0242ac1c0002row2_col0,#T_c0724604_1ebd_11eb_af08_0242ac1c0002row4_col0{ background-color: #f9fc66; color: #000000; }#T_c0724604_1ebd_11eb_af08_0242ac1c0002row2_col1{ background-color: #f0f866; color: #000000; }#T_c0724604_1ebd_11eb_af08_0242ac1c0002row3_col0,#T_c0724604_1ebd_11eb_af08_0242ac1c0002row3_col1{ background-color: #fbfd66; color: #000000; }#T_c0724604_1ebd_11eb_af08_0242ac1c0002row4_col1{ background-color: #fcfe66; color: #000000; }#T_c0724604_1ebd_11eb_af08_0242ac1c0002row5_col0,#T_c0724604_1ebd_11eb_af08_0242ac1c0002row5_col1,#T_c0724604_1ebd_11eb_af08_0242ac1c0002row6_col1{ background-color: #ffff66; color: #000000; }#T_c0724604_1ebd_11eb_af08_0242ac1c0002row6_col0{ background-color: #fefe66; color: #000000; } Survived 0 1 SibSp &lt;tr&gt; &lt;th id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002level0_row0&quot; class=&quot;row_heading level0 row0&quot; &gt;0&lt;/th&gt; &lt;td id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002row0_col0&quot; class=&quot;data row0 col0&quot; &gt;398&lt;/td&gt; &lt;td id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002row0_col1&quot; class=&quot;data row0 col1&quot; &gt;210&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002level0_row1&quot; class=&quot;row_heading level0 row1&quot; &gt;1&lt;/th&gt; &lt;td id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002row1_col0&quot; class=&quot;data row1 col0&quot; &gt;97&lt;/td&gt; &lt;td id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002row1_col1&quot; class=&quot;data row1 col1&quot; &gt;112&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002level0_row2&quot; class=&quot;row_heading level0 row2&quot; &gt;2&lt;/th&gt; &lt;td id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002row2_col0&quot; class=&quot;data row2 col0&quot; &gt;15&lt;/td&gt; &lt;td id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002row2_col1&quot; class=&quot;data row2 col1&quot; &gt;13&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002level0_row3&quot; class=&quot;row_heading level0 row3&quot; &gt;3&lt;/th&gt; &lt;td id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002row3_col0&quot; class=&quot;data row3 col0&quot; &gt;12&lt;/td&gt; &lt;td id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002row3_col1&quot; class=&quot;data row3 col1&quot; &gt;4&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002level0_row4&quot; class=&quot;row_heading level0 row4&quot; &gt;4&lt;/th&gt; &lt;td id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002row4_col0&quot; class=&quot;data row4 col0&quot; &gt;15&lt;/td&gt; &lt;td id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002row4_col1&quot; class=&quot;data row4 col1&quot; &gt;3&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002level0_row5&quot; class=&quot;row_heading level0 row5&quot; &gt;5&lt;/th&gt; &lt;td id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002row5_col0&quot; class=&quot;data row5 col0&quot; &gt;5&lt;/td&gt; &lt;td id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002row5_col1&quot; class=&quot;data row5 col1&quot; &gt;0&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002level0_row6&quot; class=&quot;row_heading level0 row6&quot; &gt;8&lt;/th&gt; &lt;td id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002row6_col0&quot; class=&quot;data row6 col0&quot; &gt;7&lt;/td&gt; &lt;td id=&quot;T_c0724604_1ebd_11eb_af08_0242ac1c0002row6_col1&quot; class=&quot;data row6 col1&quot; &gt;0&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; 1234567f,ax=plt.subplots(1,2,figsize=(20,8))sns.barplot('SibSp','Survived',data=data,ax=ax[0])ax[0].set_title('SibSp vs Survived')sns.factorplot('SibSp','Survived',data=data,ax=ax[1])ax[1].set_title('SibSp vs Survived')plt.close(2)plt.show() 1pd.crosstab(data.SibSp, data.Pclass).style.background_gradient(cmap='summer_r') #T_3093142c_1ebe_11eb_af08_0242ac1c0002row0_col0,#T_3093142c_1ebe_11eb_af08_0242ac1c0002row0_col1,#T_3093142c_1ebe_11eb_af08_0242ac1c0002row0_col2{ background-color: #008066; color: #f1f1f1; }#T_3093142c_1ebe_11eb_af08_0242ac1c0002row1_col0{ background-color: #7bbd66; color: #000000; }#T_3093142c_1ebe_11eb_af08_0242ac1c0002row1_col1{ background-color: #8ac466; color: #000000; }#T_3093142c_1ebe_11eb_af08_0242ac1c0002row1_col2{ background-color: #c6e266; color: #000000; }#T_3093142c_1ebe_11eb_af08_0242ac1c0002row2_col0,#T_3093142c_1ebe_11eb_af08_0242ac1c0002row4_col2{ background-color: #f6fa66; color: #000000; }#T_3093142c_1ebe_11eb_af08_0242ac1c0002row2_col1{ background-color: #eef666; color: #000000; }#T_3093142c_1ebe_11eb_af08_0242ac1c0002row2_col2{ background-color: #f8fc66; color: #000000; }#T_3093142c_1ebe_11eb_af08_0242ac1c0002row3_col0,#T_3093142c_1ebe_11eb_af08_0242ac1c0002row3_col2{ background-color: #fafc66; color: #000000; }#T_3093142c_1ebe_11eb_af08_0242ac1c0002row3_col1{ background-color: #fdfe66; color: #000000; }#T_3093142c_1ebe_11eb_af08_0242ac1c0002row4_col0,#T_3093142c_1ebe_11eb_af08_0242ac1c0002row4_col1,#T_3093142c_1ebe_11eb_af08_0242ac1c0002row5_col0,#T_3093142c_1ebe_11eb_af08_0242ac1c0002row5_col1,#T_3093142c_1ebe_11eb_af08_0242ac1c0002row5_col2,#T_3093142c_1ebe_11eb_af08_0242ac1c0002row6_col0,#T_3093142c_1ebe_11eb_af08_0242ac1c0002row6_col1{ background-color: #ffff66; color: #000000; }#T_3093142c_1ebe_11eb_af08_0242ac1c0002row6_col2{ background-color: #fefe66; color: #000000; } Pclass 1 2 3 SibSp &lt;tr&gt; &lt;th id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002level0_row0&quot; class=&quot;row_heading level0 row0&quot; &gt;0&lt;/th&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row0_col0&quot; class=&quot;data row0 col0&quot; &gt;137&lt;/td&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row0_col1&quot; class=&quot;data row0 col1&quot; &gt;120&lt;/td&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row0_col2&quot; class=&quot;data row0 col2&quot; &gt;351&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002level0_row1&quot; class=&quot;row_heading level0 row1&quot; &gt;1&lt;/th&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row1_col0&quot; class=&quot;data row1 col0&quot; &gt;71&lt;/td&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row1_col1&quot; class=&quot;data row1 col1&quot; &gt;55&lt;/td&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row1_col2&quot; class=&quot;data row1 col2&quot; &gt;83&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002level0_row2&quot; class=&quot;row_heading level0 row2&quot; &gt;2&lt;/th&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row2_col0&quot; class=&quot;data row2 col0&quot; &gt;5&lt;/td&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row2_col1&quot; class=&quot;data row2 col1&quot; &gt;8&lt;/td&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row2_col2&quot; class=&quot;data row2 col2&quot; &gt;15&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002level0_row3&quot; class=&quot;row_heading level0 row3&quot; &gt;3&lt;/th&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row3_col0&quot; class=&quot;data row3 col0&quot; &gt;3&lt;/td&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row3_col1&quot; class=&quot;data row3 col1&quot; &gt;1&lt;/td&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row3_col2&quot; class=&quot;data row3 col2&quot; &gt;12&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002level0_row4&quot; class=&quot;row_heading level0 row4&quot; &gt;4&lt;/th&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row4_col0&quot; class=&quot;data row4 col0&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row4_col1&quot; class=&quot;data row4 col1&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row4_col2&quot; class=&quot;data row4 col2&quot; &gt;18&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002level0_row5&quot; class=&quot;row_heading level0 row5&quot; &gt;5&lt;/th&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row5_col0&quot; class=&quot;data row5 col0&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row5_col1&quot; class=&quot;data row5 col1&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row5_col2&quot; class=&quot;data row5 col2&quot; &gt;5&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002level0_row6&quot; class=&quot;row_heading level0 row6&quot; &gt;8&lt;/th&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row6_col0&quot; class=&quot;data row6 col0&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row6_col1&quot; class=&quot;data row6 col1&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_3093142c_1ebe_11eb_af08_0242ac1c0002row6_col2&quot; class=&quot;data row6 col2&quot; &gt;7&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; 관찰결과 : 위 barplot과 factorplot은 가족의 수가 많아질 수록 생존률이 낮아지는 것을 확인할 수 있다. 이는 가족이 많아질 수록 자신을 챙기지 않고 가족을 챙기려는 경향이 생기기 때문일 거라 유추된다. Parch 1pd.crosstab(data.Parch, data.Pclass).style.background_gradient(cmap='summer_r') #T_d967ea50_1ebe_11eb_af08_0242ac1c0002row0_col0,#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row0_col1,#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row0_col2{ background-color: #008066; color: #f1f1f1; }#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row1_col0{ background-color: #cfe766; color: #000000; }#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row1_col1{ background-color: #c2e066; color: #000000; }#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row1_col2{ background-color: #dbed66; color: #000000; }#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row2_col0{ background-color: #dfef66; color: #000000; }#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row2_col1{ background-color: #e1f066; color: #000000; }#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row2_col2{ background-color: #e3f166; color: #000000; }#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row3_col0,#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row4_col1,#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row5_col0,#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row5_col1,#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row6_col0,#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row6_col1,#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row6_col2{ background-color: #ffff66; color: #000000; }#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row3_col1{ background-color: #fcfe66; color: #000000; }#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row3_col2,#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row4_col0,#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row4_col2{ background-color: #fefe66; color: #000000; }#T_d967ea50_1ebe_11eb_af08_0242ac1c0002row5_col2{ background-color: #fdfe66; color: #000000; } Pclass 1 2 3 Parch &lt;tr&gt; &lt;th id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002level0_row0&quot; class=&quot;row_heading level0 row0&quot; &gt;0&lt;/th&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row0_col0&quot; class=&quot;data row0 col0&quot; &gt;163&lt;/td&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row0_col1&quot; class=&quot;data row0 col1&quot; &gt;134&lt;/td&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row0_col2&quot; class=&quot;data row0 col2&quot; &gt;381&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002level0_row1&quot; class=&quot;row_heading level0 row1&quot; &gt;1&lt;/th&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row1_col0&quot; class=&quot;data row1 col0&quot; &gt;31&lt;/td&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row1_col1&quot; class=&quot;data row1 col1&quot; &gt;32&lt;/td&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row1_col2&quot; class=&quot;data row1 col2&quot; &gt;55&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002level0_row2&quot; class=&quot;row_heading level0 row2&quot; &gt;2&lt;/th&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row2_col0&quot; class=&quot;data row2 col0&quot; &gt;21&lt;/td&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row2_col1&quot; class=&quot;data row2 col1&quot; &gt;16&lt;/td&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row2_col2&quot; class=&quot;data row2 col2&quot; &gt;43&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002level0_row3&quot; class=&quot;row_heading level0 row3&quot; &gt;3&lt;/th&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row3_col0&quot; class=&quot;data row3 col0&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row3_col1&quot; class=&quot;data row3 col1&quot; &gt;2&lt;/td&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row3_col2&quot; class=&quot;data row3 col2&quot; &gt;3&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002level0_row4&quot; class=&quot;row_heading level0 row4&quot; &gt;4&lt;/th&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row4_col0&quot; class=&quot;data row4 col0&quot; &gt;1&lt;/td&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row4_col1&quot; class=&quot;data row4 col1&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row4_col2&quot; class=&quot;data row4 col2&quot; &gt;3&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002level0_row5&quot; class=&quot;row_heading level0 row5&quot; &gt;5&lt;/th&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row5_col0&quot; class=&quot;data row5 col0&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row5_col1&quot; class=&quot;data row5 col1&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row5_col2&quot; class=&quot;data row5 col2&quot; &gt;5&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002level0_row6&quot; class=&quot;row_heading level0 row6&quot; &gt;6&lt;/th&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row6_col0&quot; class=&quot;data row6 col0&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row6_col1&quot; class=&quot;data row6 col1&quot; &gt;0&lt;/td&gt; &lt;td id=&quot;T_d967ea50_1ebe_11eb_af08_0242ac1c0002row6_col2&quot; class=&quot;data row6 col2&quot; &gt;1&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; 크로스탭은 3등급 객실에 많은 수의 가족단위 승객이 탓다는 것을 보여준다. 1234567f,ax=plt.subplots(1,2,figsize=(20,8))sns.barplot('Parch', 'Survived', data=data, ax=ax[0])ax[0].set_title('parch vs Survived')sns.factorplot('Parch', 'Survived', data=data, ax=ax[1])ax[1].set_title('Parch vs Survived')plt.close(2)plt.show() 관찰결과 : 부모를 동반한 승객은 생존 가능성이 더 크다. 하지만 가족의 숫자가 늘어날 수록 생존가능성은 줄어든다. 생존 가능성은 배 안에 1~3명의 부모를 둔 사람에게 좋다. 혼자라는 것은 또한 치명적이고 누군가가 배에 4명 이상의 부모를 두고 있을 때 생존 가능성은 줄어든다.","link":"/2020/11/16/Kaggle_Titanic_transcription/"},{"title":"","text":"KDX 소비트랜드 시각화 경진대회 우수상 후기 /*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */ !function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=\"1.11.3\",m=function(a,b){return new m.fn.init(a,b)},n=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,o=/^-ms-/,p=/-([\\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:\"\",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:\"jQuery\"+(l+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===m.type(a)},isArray:Array.isArray||function(a){return\"array\"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||\"object\"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,\"constructor\")&&!j.call(a.constructor.prototype,\"isPrototypeOf\"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?h[i.call(a)]||\"object\":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,\"ms-\").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?\"\":(a+\"\").replace(n,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,\"string\"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return\"string\"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(a,b){h[\"[object \"+b+\"]\"]=b.toLowerCase()});function r(a){var b=\"length\"in a&&a.length,c=m.type(a);return\"function\"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\"sizzle\"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1","link":"/2020/11/16/KDX-2020%EC%86%8C%EB%B9%84%ED%8A%B8%EB%9E%9C%EB%93%9C-%EC%8B%9C%EA%B0%81%ED%99%94-%EA%B2%BD%EC%A7%84%EB%8C%80%ED%9A%8C-%EC%9A%B0%EC%88%98%EC%83%81-%ED%9B%84%EA%B8%B0/"},{"title":"","text":"Introduction to Statistics for Data Science I _ Part1 /*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */ !function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=\"1.11.3\",m=function(a,b){return new m.fn.init(a,b)},n=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,o=/^-ms-/,p=/-([\\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:\"\",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:\"jQuery\"+(l+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===m.type(a)},isArray:Array.isArray||function(a){return\"array\"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||\"object\"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,\"constructor\")&&!j.call(a.constructor.prototype,\"isPrototypeOf\"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?h[i.call(a)]||\"object\":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,\"ms-\").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?\"\":(a+\"\").replace(n,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,\"string\"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return\"string\"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(a,b){h[\"[object \"+b+\"]\"]=b.toLowerCase()});function r(a){var b=\"length\"in a&&a.length,c=m.type(a);return\"function\"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\"sizzle\"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1 *\",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:\"default\",tolerance:\"intersect\",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css(\"float\"))||/inline|table-cell/.test(e.css(\"display\"))},_create:function(){this.containerCache={},this.element.addClass(\"ui-sortable\"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),\"handle\"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(\".ui-sortable-handle\").removeClass(\"ui-sortable-handle\"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass(\"ui-sortable-handle\")})},_destroy:function(){this.element.removeClass(\"ui-sortable ui-sortable-disabled\").find(\".ui-sortable-handle\").removeClass(\"ui-sortable-handle\"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+\"-item\");return this},_mouseCapture:function(t,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||\"static\"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+\"-item\")===a?(s=e(this),!1):void 0}),e.data(t.target,a.widgetName+\"-item\")===a&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find(\"*\").addBack().each(function(){this===t.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css(\"position\",\"absolute\"),this.cssPosition=this.helper.css(\"position\"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&\"auto\"!==o.cursor&&(a=this.document.find(\"body\"),this.storedCursor=a.css(\"cursor\"),a.css(\"cursor\",o.cursor),this.storedStylesheet=e(\"*{ cursor: \"+o.cursor+\" !important; }\").appendTo(a)),o.opacity&&(this.helper.css(\"opacity\")&&(this._storedOpacity=this.helper.css(\"opacity\")),this.helper.css(\"opacity\",o.opacity)),o.zIndex&&(this.helper.css(\"zIndex\")&&(this._storedZIndex=this.helper.css(\"zIndex\")),this.helper.css(\"zIndex\",o.zIndex)),this.scrollParent[0]!==this.document[0]&&\"HTML\"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger(\"start\",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger(\"activate\",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass(\"ui-sortable-helper\"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo(\"absolute\"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&\"HTML\"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageYa&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t=\"x\"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i=\"y\"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&\"right\"===a||\"down\"===n?2:1:n&&(\"down\"===n?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?\"right\"===n&&i||\"left\"===n&&!i:s&&(\"down\"===s&&t||\"up\"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?\"down\":\"up\")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?\"right\":\"left\")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(a=e(l[s],this.document[0]),n=a.length-1;n>=0;n--)o=e.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),o]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(\":data(\"+this.widgetName+\"-item)\");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(n=e(c[i],this.document[0]),s=n.length-1;s>=0;s--)a=e.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=d.length-1;i>=0;i--)for(o=d[i][1],r=d[i][0],s=0,l=r.length;l>s;s++)h=e(r[s]),h.data(this.widgetName+\"-item\",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?\"x\"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),n=e(\"\",t.document[0]).addClass(i||t.currentItem[0].className+\" ui-sortable-placeholder\").removeClass(\"ui-sortable-helper\");return\"tbody\"===s?t._createTrPlaceholder(t.currentItem.find(\"tr\").eq(0),e(\"\",t.document[0]).appendTo(n)):\"tr\"===s?t._createTrPlaceholder(t.currentItem,n):\"img\"===s&&n.attr(\"src\",t.currentItem.attr(\"src\")),i||n.css(\"visibility\",\"hidden\"),n},update:function(e,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css(\"paddingTop\")||0,10)-parseInt(t.currentItem.css(\"paddingBottom\")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css(\"paddingLeft\")||0,10)-parseInt(t.currentItem.css(\"paddingRight\")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var s=this;t.children().each(function(){e(\" \",s.document[0]).attr(\"colspan\",e(this).attr(\"colspan\")||1).appendTo(i)})},_contactContainers:function(t){var i,s,n,a,o,r,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger(\"out\",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger(\"over\",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=c.floating||this._isFloating(this.currentItem),o=u?\"left\":\"top\",r=u?\"width\":\"height\",d=u?\"clientX\":\"clientY\",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,t[d]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(t[d]-h)&&(n=Math.abs(t[d]-h),a=this.items[s],this.direction=l?\"up\":\"down\"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger(\"over\",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger(\"change\",t,this._uiHash()),this.containers[p]._trigger(\"change\",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger(\"over\",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):\"clone\"===i.helper?this.currentItem.clone():this.currentItem;return s.parents(\"body\").length||e(\"parent\"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css(\"position\"),top:this.currentItem.css(\"top\"),left:this.currentItem.css(\"left\")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){\"string\"==typeof t&&(t=t.split(\" \")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),\"left\"in t&&(this.offset.click.left=t.left+this.margins.left),\"right\"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),\"top\"in t&&(this.offset.click.top=t.top+this.margins.top),\"bottom\"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return\"absolute\"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&\"html\"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:t.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(\"relative\"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css(\"top\"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css(\"left\"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css(\"marginLeft\"),10)||0,top:parseInt(this.currentItem.css(\"marginTop\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;\"parent\"===n.containment&&(n.containment=this.helper[0].parentNode),(\"document\"===n.containment||\"window\"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,\"document\"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(\"document\"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),s=\"hidden\"!==e(t).css(\"overflow\"),this.containment=[i.left+(parseInt(e(t).css(\"borderLeftWidth\"),10)||0)+(parseInt(e(t).css(\"paddingLeft\"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css(\"borderTopWidth\"),10)||0)+(parseInt(e(t).css(\"paddingTop\"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css(\"borderLeftWidth\"),10)||0)-(parseInt(e(t).css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css(\"borderTopWidth\"),10)||0)-(parseInt(e(t).css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s=\"absolute\"===t?1:-1,n=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n=this.options,a=t.pageX,o=t.pageY,r=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return\"relative\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.leftthis.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],\"down\"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)(\"auto\"===this._storedCSS[s]||\"static\"===this._storedCSS[s])&&(this._storedCSS[s]=\"\");this.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger(\"receive\",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(\".ui-sortable-helper\")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger(\"update\",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger(\"remove\",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger(\"receive\",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger(\"update\",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||n.push(i(\"deactivate\",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i(\"out\",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find(\"body\").css(\"cursor\",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css(\"opacity\",this._storedOpacity),this._storedZIndex&&this.helper.css(\"zIndex\",\"auto\"===this._storedZIndex?\"\":this._storedZIndex),this.dragging=!1,t||this._trigger(\"beforeStop\",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(s=0;n.length>s;s++)n[s].call(this,e);this._trigger(\"stop\",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget(\"ui.accordion\",{version:\"1.11.4\",options:{active:0,animate:{},collapsible:!1,event:\"click\",header:\"> li > :first-child,> :not(li):even\",heightStyle:\"auto\",icons:{activeHeader:\"ui-icon-triangle-1-s\",header:\"ui-icon-triangle-1-e\"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:\"hide\",borderBottomWidth:\"hide\",paddingTop:\"hide\",paddingBottom:\"hide\",height:\"hide\"},showProps:{borderTopWidth:\"show\",borderBottomWidth:\"show\",paddingTop:\"show\",paddingBottom:\"show\",height:\"show\"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass(\"ui-accordion ui-widget ui-helper-reset\").attr(\"role\",\"tablist\"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e(\"\").addClass(\"ui-accordion-header-icon ui-icon \"+t.header).prependTo(this.headers),this.active.children(\".ui-accordion-header-icon\").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass(\"ui-accordion-icons\"))},_destroyIcons:function(){this.headers.removeClass(\"ui-accordion-icons\").children(\".ui-accordion-header-icon\").remove()},_destroy:function(){var e;this.element.removeClass(\"ui-accordion ui-widget ui-helper-reset\").removeAttr(\"role\"),this.headers.removeClass(\"ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top\").removeAttr(\"role\").removeAttr(\"aria-expanded\").removeAttr(\"aria-selected\").removeAttr(\"aria-controls\").removeAttr(\"tabIndex\").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass(\"ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled\").css(\"display\",\"\").removeAttr(\"role\").removeAttr(\"aria-hidden\").removeAttr(\"aria-labelledby\").removeUniqueId(),\"content\"!==this.options.heightStyle&&e.css(\"height\",\"\")},_setOption:function(e,t){return\"active\"===e?(this._activate(t),void 0):(\"event\"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),\"collapsible\"!==e||t||this.options.active!==!1||this._activate(0),\"icons\"===e&&(this._destroyIcons(),t&&this._createIcons()),\"disabled\"===e&&(this.element.toggleClass(\"ui-state-disabled\",!!t).attr(\"aria-disabled\",t),this.headers.add(this.headers.next()).toggleClass(\"ui-state-disabled\",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(e(t.target).attr(\"tabIndex\",-1),e(a).attr(\"tabIndex\",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(\".ui-state-disabled\").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass(\"ui-accordion-header ui-state-default ui-corner-all\"),this.panels=this.headers.next().addClass(\"ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom\").filter(\":not(.ui-accordion-content-active)\").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass(\"ui-accordion-header-active ui-state-active ui-corner-top\").removeClass(\"ui-corner-all\"),this.active.next().addClass(\"ui-accordion-content-active\").show(),this.headers.attr(\"role\",\"tab\").each(function(){var t=e(this),i=t.uniqueId().attr(\"id\"),s=t.next(),n=s.uniqueId().attr(\"id\");t.attr(\"aria-controls\",n),s.attr(\"aria-labelledby\",i)}).next().attr(\"role\",\"tabpanel\"),this.headers.not(this.active).attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\",tabIndex:-1}).next().attr({\"aria-hidden\":\"true\"}).hide(),this.active.length?this.active.attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0}).next().attr({\"aria-hidden\":\"false\"}):this.headers.eq(0).attr(\"tabIndex\",0),this._createIcons(),this._setupEvents(i.event),\"fill\"===s?(t=n.height(),this.element.siblings(\":visible\").each(function(){var i=e(this),s=i.css(\"position\");\"absolute\"!==s&&\"fixed\"!==s&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css(\"overflow\",\"auto\")):\"auto\"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css(\"height\",\"\").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return\"number\"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:\"_keydown\"};t&&e.each(t.split(\" \"),function(e,t){i[t]=\"_eventHandler\"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:\"_panelKeyDown\"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?e():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?e():n,newPanel:r}; t.preventDefault(),a&&!i.collapsible||this._trigger(\"beforeActivate\",t,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?e():n,this._toggle(l),s.removeClass(\"ui-accordion-header-active ui-state-active\"),i.icons&&s.children(\".ui-accordion-header-icon\").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass(\"ui-corner-all\").addClass(\"ui-accordion-header-active ui-state-active ui-corner-top\"),i.icons&&n.children(\".ui-accordion-header-icon\").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass(\"ui-accordion-content-active\")))},_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({\"aria-hidden\":\"true\"}),s.prev().attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\"}),i.length&&s.length?s.prev().attr({tabIndex:-1,\"aria-expanded\":\"false\"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr(\"tabIndex\"),10)}).attr(\"tabIndex\",-1),i.attr(\"aria-hidden\",\"false\").prev().attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0})},_animate:function(e,t,i){var s,n,a,o=this,r=0,h=e.css(\"box-sizing\"),l=e.length&&(!t.length||e.index()n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass(\"ui-state-focus\"),this.active=null,this._trigger(\"blur\",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),\"true\"===e.attr(\"aria-hidden\")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(\".ui-menu\").not(t.parents(\".ui-menu\")).hide().attr(\"aria-hidden\",\"true\"),t.show().removeAttr(\"aria-hidden\").attr(\"aria-expanded\",\"true\").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(\".ui-menu\"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(\".ui-menu\").hide().attr(\"aria-hidden\",\"true\").attr(\"aria-expanded\",\"false\").end().find(\".ui-state-active\").not(\".ui-state-focus\").removeClass(\"ui-state-active\")},_closeOnDocumentClick:function(t){return!e(t.target).closest(\".ui-menu\").length},_isDivider:function(e){return!/[^\\-\\u2014\\u2013\\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(\".ui-menu-item\",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(\".ui-menu \").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move(\"next\",\"first\",e)},previous:function(e){this._move(\"prev\",\"last\",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(\".ui-menu-item\").length},isLastItem:function(){return this.active&&!this.active.nextAll(\".ui-menu-item\").length},_move:function(e,t,i){var s;this.active&&(s=\"first\"===e||\"last\"===e?this.active[\"first\"===e?\"prevAll\":\"nextAll\"](\".ui-menu-item\").eq(-1):this.active[e+\"All\"](\".ui-menu-item\").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(\".ui-menu-item\").each(function(){return i=e(this),0>i.offset().top-s-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?\"last\":\"first\"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(\".ui-menu-item\").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight() -1) { hashValue = hashValue.replace(/:-/g, \"-\"); } } else if (typeof hashGeneratorOption === \"function\") { // call the function hashValue = hashGeneratorOption(self.text(), self); } else { // compact - the default hashValue = self.text().replace(/\\s/g, \"\"); } // add the index if we need to if (arr.length) { hashValue += \"\" + index; } // return the value return hashValue; }, // _appendElements // --------------- // Helps create the table of contents list by appending subheader elements _appendSubheaders: function(self, ul) { // The current element index var index = $(this).index(self.options.selectors), // Finds the previous header DOM element previousHeader = $(self.options.selectors).eq(index - 1), currentTagName = +$(this).prop(\"tagName\").charAt(1), previousTagName = +previousHeader.prop(\"tagName\").charAt(1), lastSubheader; // If the current header DOM element is smaller than the previous header DOM element or the first subheader if (currentTagName < previousTagName) { // Selects the last unordered list HTML found within the HTML element calling the plugin self.element.find(subheaderClass + \"[data-tag=\" + currentTagName + \"]\").last().append(self._nestElements($(this), index)); } // If the current header DOM element is the same type of header(eg. h4) as the previous header DOM element else if (currentTagName === previousTagName) { ul.find(itemClass).last().after(self._nestElements($(this), index)); } else { // Selects the last unordered list HTML found within the HTML element calling the plugin ul.find(itemClass).last(). // Appends an unorderedList HTML element to the dynamic `unorderedList` variable and sets a common class name after($(\"\", { \"class\": subheaderClassName, \"data-tag\": currentTagName })).next(subheaderClass). // Appends a list item HTML element to the last unordered list HTML element found within the HTML element calling the plugin append(self._nestElements($(this), index)); } }, // _setEventHandlers // ---------------- // Adds jQuery event handlers to the newly generated table of contents _setEventHandlers: function() { // _Local variables_ // Stores the plugin context in the self variable var self = this, // Instantiates a new variable that will be used to hold a specific element's context $self, // Instantiates a new variable that will be used to determine the smoothScroll animation time duration duration; // Event delegation that looks for any clicks on list item elements inside of the HTML element calling the plugin this.element.on(\"click.tocify\", \"li\", function(event) { if (self.options.history) { window.location.hash = $(this).attr(\"data-unique\"); } // Removes highlighting from all of the list item's self.element.find(\".\" + self.focusClass).removeClass(self.focusClass); // Highlights the current list item that was clicked $(this).addClass(self.focusClass); // If the showAndHide option is true if (self.options.showAndHide) { var elem = $('li[data-unique=\"' + $(this).attr(\"data-unique\") + '\"]'); self._triggerShow(elem); } self._scrollTo($(this)); }); // Mouseenter and Mouseleave event handlers for the list item's within the HTML element calling the plugin this.element.find(\"li\").on({ // Mouseenter event handler \"mouseenter.tocify\": function() { // Adds a hover CSS class to the current list item $(this).addClass(self.hoverClass); // Makes sure the cursor is set to the pointer icon $(this).css(\"cursor\", \"pointer\"); }, // Mouseleave event handler \"mouseleave.tocify\": function() { if (self.options.theme !== \"bootstrap\") { // Removes the hover CSS class from the current list item $(this).removeClass(self.hoverClass); } } }); // only attach handler if needed (expensive in IE) if (self.options.extendPage || self.options.highlightOnScroll || self.options.scrollHistory || self.options.showAndHideOnScroll) { // Window scroll event handler $(window).on(\"scroll.tocify\", function() { // Once all animations on the page are complete, this callback function will be called $(\"html, body\").promise().done(function() { // Local variables // Stores how far the user has scrolled var winScrollTop = $(window).scrollTop(), // Stores the height of the window winHeight = $(window).height(), // Stores the height of the document docHeight = $(document).height(), scrollHeight = $(\"body\")[0].scrollHeight, // Instantiates a variable that will be used to hold a selected HTML element elem, lastElem, lastElemOffset, currentElem; if (self.options.extendPage) { // If the user has scrolled to the bottom of the page and the last toc item is not focused if ((self.webkit && winScrollTop >= scrollHeight - winHeight - self.options.extendPageOffset) || (!self.webkit && winHeight + winScrollTop > docHeight - self.options.extendPageOffset)) { if (!$(extendPageClass).length) { lastElem = $('div[data-unique=\"' + $(itemClass).last().attr(\"data-unique\") + '\"]'); if (!lastElem.length) return; // Gets the top offset of the page header that is linked to the last toc item lastElemOffset = lastElem.offset().top; // Appends a div to the bottom of the page and sets the height to the difference of the window scrollTop and the last element's position top offset $(self.options.context).append($(\"\", { \"class\": extendPageClassName, \"height\": Math.abs(lastElemOffset - winScrollTop) + \"px\", \"data-unique\": extendPageClassName })); if (self.extendPageScroll) { currentElem = self.element.find('li.' + self.focusClass); self._scrollTo($('div[data-unique=\"' + currentElem.attr(\"data-unique\") + '\"]')); } } } } // The zero timeout ensures the following code is run after the scroll events setTimeout(function() { // _Local variables_ // Stores the distance to the closest anchor var closestAnchorDistance = null, // Stores the index of the closest anchor closestAnchorIdx = null, // Keeps a reference to all anchors anchors = $(self.options.context).find(\"div[data-unique]\"), anchorText; // Determines the index of the closest anchor anchors.each(function(idx) { var distance = Math.abs(($(this).next().length ? $(this).next() : $(this)).offset().top - winScrollTop - self.options.highlightOffset); if (closestAnchorDistance == null || distance < closestAnchorDistance) { closestAnchorDistance = distance; closestAnchorIdx = idx; } else { return false; } }); anchorText = $(anchors[closestAnchorIdx]).attr(\"data-unique\"); // Stores the list item HTML element that corresponds to the currently traversed anchor tag elem = $('li[data-unique=\"' + anchorText + '\"]'); // If the `highlightOnScroll` option is true and a next element is found if (self.options.highlightOnScroll && elem.length) { // Removes highlighting from all of the list item's self.element.find(\".\" + self.focusClass).removeClass(self.focusClass); // Highlights the corresponding list item elem.addClass(self.focusClass); } if (self.options.scrollHistory) { if (window.location.hash !== \"#\" + anchorText) { window.location.replace(\"#\" + anchorText); } } // If the `showAndHideOnScroll` option is true if (self.options.showAndHideOnScroll && self.options.showAndHide) { self._triggerShow(elem, true); } }, 0); }); }); } }, // Show // ---- // Opens the current sub-header show: function(elem, scroll) { // Stores the plugin context in the `self` variable var self = this, element = elem; // If the sub-header is not already visible if (!elem.is(\":visible\")) { // If the current element does not have any nested subheaders, is not a header, and its parent is not visible if (!elem.find(subheaderClass).length && !elem.parent().is(headerClass) && !elem.parent().is(\":visible\")) { // Sets the current element to all of the subheaders within the current header elem = elem.parents(subheaderClass).add(elem); } // If the current element does not have any nested subheaders and is not a header else if (!elem.children(subheaderClass).length && !elem.parent().is(headerClass)) { // Sets the current element to the closest subheader elem = elem.closest(subheaderClass); } //Determines what jQuery effect to use switch (self.options.showEffect) { //Uses `no effect` case \"none\": elem.show(); break; //Uses the jQuery `show` special effect case \"show\": elem.show(self.options.showEffectSpeed); break; //Uses the jQuery `slideDown` special effect case \"slideDown\": elem.slideDown(self.options.showEffectSpeed); break; //Uses the jQuery `fadeIn` special effect case \"fadeIn\": elem.fadeIn(self.options.showEffectSpeed); break; //If none of the above options were passed, then a `jQueryUI show effect` is expected default: elem.show(); break; } } // If the current subheader parent element is a header if (elem.parent().is(headerClass)) { // Hides all non-active sub-headers self.hide($(subheaderClass).not(elem)); } // If the current subheader parent element is not a header else { // Hides all non-active sub-headers self.hide($(subheaderClass).not(elem.closest(headerClass).find(subheaderClass).not(elem.siblings()))); } // Maintains chainablity return self; }, // Hide // ---- // Closes the current sub-header hide: function(elem) { // Stores the plugin context in the `self` variable var self = this; //Determines what jQuery effect to use switch (self.options.hideEffect) { // Uses `no effect` case \"none\": elem.hide(); break; // Uses the jQuery `hide` special effect case \"hide\": elem.hide(self.options.hideEffectSpeed); break; // Uses the jQuery `slideUp` special effect case \"slideUp\": elem.slideUp(self.options.hideEffectSpeed); break; // Uses the jQuery `fadeOut` special effect case \"fadeOut\": elem.fadeOut(self.options.hideEffectSpeed); break; // If none of the above options were passed, then a `jqueryUI hide effect` is expected default: elem.hide(); break; } // Maintains chainablity return self; }, // _triggerShow // ------------ // Determines what elements get shown on scroll and click _triggerShow: function(elem, scroll) { var self = this; // If the current element's parent is a header element or the next element is a nested subheader element if (elem.parent().is(headerClass) || elem.next().is(subheaderClass)) { // Shows the next sub-header element self.show(elem.next(subheaderClass), scroll); } // If the current element's parent is a subheader element else if (elem.parent().is(subheaderClass)) { // Shows the parent sub-header element self.show(elem.parent(), scroll); } // Maintains chainability return self; }, // _addCSSClasses // -------------- // Adds CSS classes to the newly generated table of contents HTML _addCSSClasses: function() { // If the user wants a jqueryUI theme if (this.options.theme === \"jqueryui\") { this.focusClass = \"ui-state-default\"; this.hoverClass = \"ui-state-hover\"; //Adds the default styling to the dropdown list this.element.addClass(\"ui-widget\").find(\".toc-title\").addClass(\"ui-widget-header\").end().find(\"li\").addClass(\"ui-widget-content\"); } // If the user wants a twitterBootstrap theme else if (this.options.theme === \"bootstrap\") { this.element.find(headerClass + \",\" + subheaderClass).addClass(\"nav nav-list\"); this.focusClass = \"active\"; } // If the user wants a twitterBootstrap theme else if (this.options.theme === \"bootstrap3\") { this.element.find(headerClass + \",\" + subheaderClass).addClass(\"list-group\"); this.element.find(itemClass).addClass(\"list-group-item\"); this.focusClass = \"active\"; } // If a user does not want a prebuilt theme else { // Adds more neutral classes (instead of jqueryui) this.focusClass = tocFocusClassName; this.hoverClass = tocHoverClassName; } //Maintains chainability return this; }, // setOption // --------- // Sets a single Tocify option after the plugin is invoked setOption: function() { // Calls the jQueryUI Widget Factory setOption method $.Widget.prototype._setOption.apply(this, arguments); }, // setOptions // ---------- // Sets a single or multiple Tocify options after the plugin is invoked setOptions: function() { // Calls the jQueryUI Widget Factory setOptions method $.Widget.prototype._setOptions.apply(this, arguments); }, // _scrollTo // --------- // Scrolls to a specific element _scrollTo: function(elem) { var self = this, duration = self.options.smoothScroll || 0, scrollTo = self.options.scrollTo, currentDiv = $('div[data-unique=\"' + elem.attr(\"data-unique\") + '\"]'); if (!currentDiv.length) { return self; } // Once all animations on the page are complete, this callback function will be called $(\"html, body\").promise().done(function() { // Animates the html and body element scrolltops $(\"html, body\").animate({ // Sets the jQuery `scrollTop` to the top offset of the HTML div tag that matches the current list item's `data-unique` tag \"scrollTop\": currentDiv.offset().top - ($.isFunction(scrollTo) ? scrollTo.call() : scrollTo) + \"px\" }, { // Sets the smoothScroll animation time duration to the smoothScrollSpeed option \"duration\": duration }); }); // Maintains chainability return self; } }); })); //end of plugin /** * jQuery Plugin: Sticky Tabs * * @author Aidan Lister * adapted by Ruben Arslan to activate parent tabs too * http://www.aidanlister.com/2014/03/persisting-the-tab-state-in-bootstrap/ */ (function($) { \"use strict\"; $.fn.rmarkdownStickyTabs = function() { var context = this; // Show the tab corresponding with the hash in the URL, or the first tab var showStuffFromHash = function() { var hash = window.location.hash; var selector = hash ? 'a[href=\"' + hash + '\"]' : 'li.active > a'; var $selector = $(selector, context); if($selector.data('toggle') === \"tab\") { $selector.tab('show'); // walk up the ancestors of this element, show any hidden tabs $selector.parents('.section.tabset').each(function(i, elm) { var link = $('a[href=\"#' + $(elm).attr('id') + '\"]'); if(link.data('toggle') === \"tab\") { link.tab(\"show\"); } }); } }; // Set the correct tab when the page loads showStuffFromHash(context); // Set the correct tab when a user uses their back/forward button $(window).on('hashchange', function() { showStuffFromHash(context); }); // Change the URL when tabs are clicked $('a', context).on('click', function(e) { history.pushState(null, null, this.href); showStuffFromHash(context); }); return this; }; }(jQuery)); window.buildTabsets = function(tocID) { // build a tabset from a section div with the .tabset class function buildTabset(tabset) { // check for fade and pills options var fade = tabset.hasClass(\"tabset-fade\"); var pills = tabset.hasClass(\"tabset-pills\"); var navClass = pills ? \"nav-pills\" : \"nav-tabs\"; // determine the heading level of the tabset and tabs var match = tabset.attr('class').match(/level(\\d) /); if (match === null) return; var tabsetLevel = Number(match[1]); var tabLevel = tabsetLevel + 1; // find all subheadings immediately below var tabs = tabset.find(\"div.section.level\" + tabLevel); if (!tabs.length) return; // create tablist and tab-content elements var tabList = $(''); $(tabs[0]).before(tabList); var tabContent = $(''); $(tabs[0]).before(tabContent); // build the tabset var activeTab = 0; tabs.each(function(i) { // get the tab div var tab = $(tabs[i]); // get the id then sanitize it for use with bootstrap tabs var id = tab.attr('id'); // see if this is marked as the active tab if (tab.hasClass('active')) activeTab = i; // remove any table of contents entries associated with // this ID (since we'll be removing the heading element) $(\"div#\" + tocID + \" li a[href='#\" + id + \"']\").parent().remove(); // sanitize the id for use with bootstrap tabs id = id.replace(/[.\\/?&!#]/g, '').replace(/\\s/g, '_'); tab.attr('id', id); // get the heading element within it, grab it's text, then remove it var heading = tab.find('h' + tabLevel + ':first'); var headingText = heading.html(); heading.remove(); // build and append the tab list item var a = $('' + headingText + ''); a.attr('href', '#' + id); a.attr('aria-controls', id); var li = $(''); li.append(a); tabList.append(li); // set it's attributes tab.attr('role', 'tabpanel'); tab.addClass('tab-pane'); tab.addClass('tabbed-pane'); if (fade) tab.addClass('fade'); // move it into the tab content div tab.detach().appendTo(tabContent); }); // set active tab $(tabList.children('li')[activeTab]).addClass('active'); var active = $(tabContent.children('div.section')[activeTab]); active.addClass('active'); if (fade) active.addClass('in'); if (tabset.hasClass(\"tabset-sticky\")) tabset.rmarkdownStickyTabs(); } // convert section divs with the .tabset class to tabsets var tabsets = $(\"div.section.tabset\"); tabsets.each(function(i) { buildTabset($(tabsets[i])); }); }; .hljs-literal { color: rgb(88, 72, 246); } .hljs-number { color: rgb(0, 0, 205); } .hljs-comment { color: rgb(76, 136, 107); } .hljs-keyword { color: rgb(0, 0, 255); } .hljs-string { color: rgb(3, 106, 7); } code{white-space: pre-wrap;} span.smallcaps{font-variant: small-caps;} span.underline{text-decoration: underline;} div.column{display: inline-block; vertical-align: top; width: 50%;} div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;} ul.task-list{list-style: none;} code{white-space: pre;} pre:not([class]) { background-color: white; } if (window.hljs) { hljs.configure({languages: []}); hljs.initHighlightingOnLoad(); if (document.readyState && document.readyState === \"complete\") { window.setTimeout(function() { hljs.initHighlighting(); }, 0); } } h1 { font-size: 34px; } h1.title { font-size: 38px; } h2 { font-size: 30px; } h3 { font-size: 24px; } h4 { font-size: 18px; } h5 { font-size: 16px; } h6 { font-size: 12px; } .table th:not([align]) { text-align: left; } .main-container { max-width: 940px; margin-left: auto; margin-right: auto; } code { color: inherit; background-color: rgba(0, 0, 0, 0.04); } img { max-width:100%; } .tabbed-pane { padding-top: 12px; } .html-widget { margin-bottom: 20px; } button.code-folding-btn:focus { outline: none; } summary { display: list-item; } .tabset-dropdown > .nav-tabs { display: inline-table; max-height: 500px; min-height: 44px; overflow-y: auto; background: white; border: 1px solid #ddd; border-radius: 4px; } .tabset-dropdown > .nav-tabs > li.active:before { content: \"\"; font-family: 'Glyphicons Halflings'; display: inline-block; padding: 10px; border-right: 1px solid #ddd; } .tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before { content: \"\"; border: none; } .tabset-dropdown > .nav-tabs.nav-tabs-open:before { content: \"\"; font-family: 'Glyphicons Halflings'; display: inline-block; padding: 10px; border-right: 1px solid #ddd; } .tabset-dropdown > .nav-tabs > li.active { display: block; } .tabset-dropdown > .nav-tabs > li > a, .tabset-dropdown > .nav-tabs > li > a:focus, .tabset-dropdown > .nav-tabs > li > a:hover { border: none; display: inline-block; border-radius: 4px; background-color: transparent; } .tabset-dropdown > .nav-tabs.nav-tabs-open > li { display: block; float: none; } .tabset-dropdown > .nav-tabs > li { display: none; } #TOC { margin: 25px 0px 20px 0px; } @media (max-width: 768px) { #TOC { position: relative; width: 100%; } } @media print { .toc-content { /* see https://github.com/w3c/csswg-drafts/issues/4434 */ float: right; } } .toc-content { padding-left: 30px; padding-right: 40px; } div.main-container { max-width: 1200px; } div.tocify { width: 20%; max-width: 260px; max-height: 85%; } @media (min-width: 768px) and (max-width: 991px) { div.tocify { width: 25%; } } @media (max-width: 767px) { div.tocify { width: 100%; max-width: none; } } .tocify ul, .tocify li { line-height: 20px; } .tocify-subheader .tocify-item { font-size: 0.90em; } .tocify .list-group-item { border-radius: 0px; } .tocify-subheader { display: inline; } .tocify-subheader .tocify-item { font-size: 0.95em; } Introduction to Statistics for Data Science I _ Part1 p_new_h 2020 11 15 데이터사이언스를 위한 통계학입문 I 1. 데이터 과학과 통계 - 데이터과학이란 무엇인가 1-1-1 데이터 과학이란 통계학, 데이터마이닝, 빅데이터, 딥러닝, 인공지능 등의 개념을 아우르는 개념 통계적 개념과 지식 – 샘플링, 확률분포, 가설검정, p-value 데이터를 다둘수 있는 기술 (데이터 큐레이션) – 빅데이터 다루기 데이터의 요약된 정보 전달 기술 – 데이터 시각화 (공간지도분석, 다차원그래픽) 데이터윤리, 데이터보안 데이터 도메인에 대한 지식과 분석능력 (현실 문제의 해결능력) 1-1-2 데이터 과학의 예시 - 데이터 분석 결과를 쉽게 이해할 수 있도록 보여주는 것! - 그래프, 도표, 이미지, 단어 구름 등을 통해 한 눈에 이해할 수 있도록 하는 것! 핀란드의 의료데이터 프로젝트 (FinnGen) 핀란드인(Finnish)과 유전자(Genome)의 합성어. 자발적 참여자의 유전자정보를 수집하고 환자의 의료정보까지 통합구축. 현재 50만명 목표에서 23만명 수집. 그 중 15만명의 유전자정보 보유. 6개월마다 데이터 업데이트 – 전세계 연구자와 공유 관절염/당뇨병 등 자가면역질환 연구 수행중 – 개인 맞춤형 약 개발 추진중 1-1-3 데이터 과학을 위한 통계학 입문 데이터과학을 위한 통계적 개념과 지식 공유데이터와 오픈소스 빅데이터분석을 위한 첫걸음 – 데이터의 중심위치, 산포정도 데이터의 시각화 데이터과학에서 확률분포는 무슨 의미를 전달 1-2 데이터 과학과 통계 - 통계가 상식이 된 사회 - 1-2-1 통계가 왜 필요한가 통계가 왜 필요한가? = 데이터를 올바르게 다룰줄 알면 무엇이 더 좋아지나? 통계는 올바른 의사결정을 돕는다. 요약된 정보 제공 과거 데이터를 통해 미래 데이터를 예측 데이터에 숨겨진 패턴 발견 1-2-2 의사결정애서 통계의 역할 - 고객의 금융 검색 경로를 추적 - 고객 이동경로(Customer Journey) 분석 - 이탈 가능성이 높은 고객을 붙잡고 신규 고객 유입하는데 활용 정부 정책의 근거자료 – 영국의회 노령연금 도입 - 1886년 영국의 사회학자 찰스 부스(Charles Booth) - 산업혁명으로 부유해진 런던에서 시민 빈곤 상황을 12년간 조사 - 가난을 8단계로 분류하여 절대빈곤이 30.7%에 달한다는 결과를 발표 - 1908년 영국의회의 노령연금 도입 정부 정책의 근거자료 – 서울시 심야버스 노선정책 - 시민들이 사용한 자정~새벽 5시까지의 휴대폰전화 데이터 수집 - 유동인구 분포 및 밀도를 파악하여 유동인구 및 교통수요가 많은 곳에 심야버스 노선 수립 ### 1-2-3 요약 - 개인의 일상활동은 데이터화를 통해 예측분석이 가능하도록 수량화, 객관화되어진다. - 통계는 수많은 데이터로부터 요약된 정보를 제공, 미래 데이터를 예측, 숨겨진 패턴을 발견함으로써 올바른 의사결정을 돕는다. - 통계치는 금융권의 관리전략, 정부 정책 수립, 법정소송에서의 근거자료 등으로 활용될 수 있다. 1-3 데이터 과학과 통계 - 데이터 분석과 윤리 - 1-3-1 데이터의 정직성 한강 수질 검사를 위해 한강물 채취 채취한 한강물을 집에 있던 보온병에 담아 방안에 보관 세계 최고 수질 검사 기관에서분석한 결과, 마셔도 되는 물로 판명됨! - 왜 신뢰할 수 없을까? - 데이터를 잘못 수집했다! + 한강이 얼마나 넓은데 어디서 수집? + 어제 산성비가 내렸을지도 모르잖아! + 손으로 채집하면 어떡해! 오염됐을지도 몰라! - 데이터를 잘못 보관했다! + 보온병에 있던 세균이 옮으면 어떡해? + 차가운데 보관해야하는 거 아냐? + 다른 사람이 손대지 못하게 안전한 곳에 보관해야지! - 너무 적은 양의 데이터, 편향된 표본 추출, 데이터의 왜곡 및 훼손 등등 + 바르지(정직하지) 못한 데이터 + 데이터분석은 무의미! - 정직하지 못한 데이터의 주요 원인은 데이터 분석가의 + 비윤리성 + 무지함 + 환경의 제약 1-3-2 기사에 등장하는 통계치 해석과 평가 - 동등한 조건으로 비교 필요 (주5일 근무) - 근로 시간이 적은 비정규직의 월급여가 전일제인 정규직의 월급여보다 적은 것은 당연한 결과 - 성, 연령, 근속년수 등의 요인을 통제한 후 시급으로 비교하는 것이 적합 - 편향된 표본 추출 - 알고보니 세무사 39명을 대상으로 조사 - 그중 연봉이 3억~4억원대인 자영업 세무사가 우연히 많았던 것 1-3-3 요약 데이터과학의 윤리는 데이터를 올바르게 분석할 뿐만 아니라 올바른 방법으로 데이터를 수집해야 함을 의미한다. 정직하지 못한 데이터의 주요 원인은 데이터분석자의 무지함, 비윤리성, 그리고 환경의 제약에 의한다. 데이터 수집 시 너무 적은 양의 데이터, 편향된 표본 추출, 데이터의 왜곡 및 훼손에 주의해야 한다. 결측치 문제도 고려해야 한다. 1-4 데이터 과학과 통계 - 공유데이터와 오픈소스 - 1-4-1 공유데이터란 모든 사람이 자유롭게 사용 및 재사용이 가능하며 재배포할 수 있는 데이터 이용성 및 접근성 재사용과 재배포 보편적 참여 1-4-2 공유데이터 연구자들을 위한 공유데이터 서비스 머신러닝기법분석에 활용가능한 데이터 저장소 Machine Learning Repository in UC, Irvine [https://archive.ics.uci.edu/ml/index.php] 정부에서 제공하는 공공데이터 통계청 [kostat.go.kr] 공공데이터포털 [www.data.go.kr] 서울열린데이터광장 [data.seoul.go.kr] 1-4-3 공유데이터의 예시 [https://datalab.naver.com/opendata.naver] 1-4-4 오픈소스 - 저작권자가 소스 코드를 공개하여 누구나 복제, 개작, 배포할 수 있는 소프트웨어 - R, Python : 오픈소스 통계분석 프로그램 - C++, 자바, 파이썬 등 다른 프로그래밍 언어와 쉽게 연동 - 빅데이터 시스템인 스파크와도 일부 기능을 연동함으로써 응용범위가 더욱 넓어짐 1-4-5 인공지능에서의 오픈소스 - 구글은 머신러닝과 신경망 연구를 위한 소프트웨어 텐서플로우를 오픈소스로 공개 - 구글 딥마인드는 인공지능 개발 플랫폼인 딥마인드랩을 공개해 누구나 인공지능 알고리즘을 테스트해볼 수 있게 함 1-4-6 공유데이터 vs. 오픈소스 공유데이터 : 단순히 수치로 표현되는 측정치 또는 결과 값으로 표현 오픈소스 : 단순 데이터가 아닌 지적 창작물 1-4-7 GitHub란 • 2008년 미국 Github사에서 서비스를 시작 • 현재 전세계에서 오픈소스 프로젝트 관리를 위해 가장 맣이 사용되는 웹호스팅 서비스!! • Git은 2005년 리눅스 제작자인 리누스 토발즈가 개발 Git : 프로그램 등의 소스 코드 관리를 위한 분산 관리 툴 (프로그램 소스를 공유하고 협업하여 개발할수 있는 버전관리 시스템) GitHub은 Git에 프로젝트 관리지원기능을 확장한 웹 호스팅 서비스. Git을 손쉽게 이용 및 오픈소스 개발자들을 확산하는 데 중요한 역할을 한 웹 서비스 가장 인기있는 오픈 소스 코드 저장소 깃허브 사용자는 2,800만 명 이상, 깃허브에 내에 저장된 소스코드 저장소는 약 5,700만 개 2018년 마이크로소프트가 인수 1-4-8 GitHub의 오픈소스 프로젝트 ### 1-4-9 GitHub의 활용 : 오픈지식과 오픈코드 • 예시 1 : fMRI데이터를 이용한 Naïve Bayes 기법적용 [https://github.com/mguindani/NPBayes_fMRI] • 예시2 : 시계열분석 정리내용? 혹은 Tensorflow를 이용한 Keras models? [https://yjucho1.github.io/] ### 1-4-10 GitHub의 활용 : 지식과 코드 1-4-11 요약 공유데이터의 활용 공유데이터를 생성하고 제공 오픈소스의 활용 오픈소스의 개발과 서비스 // add bootstrap table styles to pandoc tables function bootstrapStylePandocTables() { $('tr.header').parent('thead').parent('table').addClass('table table-condensed'); } $(document).ready(function () { bootstrapStylePandocTables(); }); $(document).ready(function () { window.buildTabsets(\"TOC\"); }); $(document).ready(function () { $('.tabset-dropdown > .nav-tabs > li').click(function () { $(this).parent().toggleClass('nav-tabs-open') }); }); $(document).ready(function () { // move toc-ignore selectors from section div to header $('div.section.toc-ignore') .removeClass('toc-ignore') .children('h1,h2,h3,h4,h5').addClass('toc-ignore'); // establish options var options = { selectors: \"h1,h2,h3\", theme: \"bootstrap3\", context: '.toc-content', hashGenerator: function (text) { return text.replace(/[.\\\\/?&!#]/g, '').replace(/\\s/g, '_'); }, ignoreSelector: \".toc-ignore\", scrollTo: 0 }; options.showAndHide = false; options.smoothScroll = true; // tocify var toc = $(\"#TOC\").tocify(options).data(\"toc-tocify\"); }); (function () { var script = document.createElement(\"script\"); script.type = \"text/javascript\"; script.src = \"https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\"; document.getElementsByTagName(\"head\")[0].appendChild(script); })();","link":"/2020/11/16/%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%82%AC%EC%9D%B4%EC%96%B8%EC%8A%A4%EB%A5%BC-%EC%9C%84%ED%95%9C-%ED%86%B5%EA%B3%84%ED%95%99%EC%9E%85%EB%AC%B8-I_Part1/"},{"title":"","text":"Tour of Evaluation Metrics for Imbalanced Classification /*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */ !function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=\"1.11.3\",m=function(a,b){return new m.fn.init(a,b)},n=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,o=/^-ms-/,p=/-([\\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:\"\",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:\"jQuery\"+(l+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===m.type(a)},isArray:Array.isArray||function(a){return\"array\"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||\"object\"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,\"constructor\")&&!j.call(a.constructor.prototype,\"isPrototypeOf\"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?h[i.call(a)]||\"object\":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,\"ms-\").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?\"\":(a+\"\").replace(n,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,\"string\"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return\"string\"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(a,b){h[\"[object \"+b+\"]\"]=b.toLowerCase()});function r(a){var b=\"length\"in a&&a.length,c=m.type(a);return\"function\"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\"sizzle\"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1","link":"/2020/12/01/Tour-of-Evaluation-Metrics-for-Imbalanced-Classification/"}],"tags":[],"categories":[]}